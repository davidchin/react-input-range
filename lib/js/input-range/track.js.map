{"version":3,"sources":["../../../src/js/input-range/track.jsx"],"names":["Track","children","PropTypes","node","isRequired","classNames","objectOf","string","onTrackMouseDown","func","percentages","number","isExternal","bool","props","getBoundingClientRect","width","max","min","left","float","event","clientX","touches","trackClientRect","getClientRect","position","x","y","preventDefault","handleMouseDown","activeTrackStyle","getActiveTrackStyle","activeTrackStyleExternalPre","getActiveTrackStylePre","activeTrackStyleExternalPost","getActiveTrackStylePost","track","handleTouchStart","activeTrack","Component"],"mappings":"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","file":"track.js","sourcesContent":["import React from 'react';\nimport autobind from 'autobind-decorator';\n\n/**\n * @ignore\n */\nexport default class Track extends React.Component {\n  /**\n   * @override\n   * @return {Object}\n   * @property {Function} children\n   * @property {Function} classNames\n   * @property {Function} onTrackMouseDown\n   * @property {Function} percentages\n   */\n  static get propTypes() {\n    return {\n      children: React.PropTypes.node.isRequired,\n      classNames: React.PropTypes.objectOf(React.PropTypes.string).isRequired,\n      onTrackMouseDown: React.PropTypes.func.isRequired,\n      percentages: React.PropTypes.objectOf(React.PropTypes.number).isRequired,\n      isExternal: React.PropTypes.bool.isRequired,\n    };\n  }\n\n  /**\n   * @param {Object} props\n   * @param {InputRangeClassNames} props.classNames\n   * @param {Function} props.onTrackMouseDown\n   * @param {number} props.percentages\n   */\n  constructor(props) {\n    super(props);\n\n    /**\n     * @private\n     * @type {?Component}\n     */\n    this.node = null;\n  }\n\n  /**\n   * @private\n   * @return {ClientRect}\n   */\n  getClientRect() {\n    return this.node.getBoundingClientRect();\n  }\n\n  /**\n   * @private\n   * @return {Object} CSS styles\n   */\n  getActiveTrackStyle() {\n    const width = `${(this.props.percentages.max - this.props.percentages.min) * 100}%`;\n    const left = `${this.props.percentages.min * 100}%`;\n\n    return { left, width };\n  }\n\n  /**\n   * @private\n   * @return {Object} CSS styles\n   */\n  @autobind\n  getActiveTrackStylePre() {\n    const width = `${(this.props.percentages.min) * 100}%`;\n    const left = '0';\n    const float = 'left';\n    return { left, width, float };\n  }\n\n\n  /**\n   * @private\n   * @return {Object} CSS styles\n   */\n  @autobind\n  getActiveTrackStylePost() {\n    const width = `${(1 - this.props.percentages.max) * 100}%`;\n    const left = `${this.props.percentages.max * 100}%`;\n\n    return { left, width };\n  }\n\n  /**\n   * @private\n   * @param {SyntheticEvent} event - User event\n   */\n  @autobind\n  handleMouseDown(event) {\n    const clientX = event.touches ? event.touches[0].clientX : event.clientX;\n    const trackClientRect = this.getClientRect();\n    const position = {\n      x: clientX - trackClientRect.left,\n      y: 0,\n    };\n\n    this.props.onTrackMouseDown(event, position);\n  }\n\n  /**\n   * @private\n   * @param {SyntheticEvent} event - User event\n   */\n  @autobind\n  handleTouchStart(event) {\n    event.preventDefault();\n\n    this.handleMouseDown(event);\n  }\n\n  /**\n   * @override\n   * @return {JSX.Element}\n   */\n  render() {\n    const activeTrackStyle = this.getActiveTrackStyle();\n    const activeTrackStyleExternalPre = this.getActiveTrackStylePre();\n    const activeTrackStyleExternalPost = this.getActiveTrackStylePost();\n\n    return (\n      <div\n        className={this.props.classNames.track}\n        onMouseDown={this.handleMouseDown}\n        onTouchStart={this.handleTouchStart}\n        ref={(node) => { this.node = node; }}>\n        {\n          !this.props.isExternal ? (\n            <div\n              style={activeTrackStyle}\n              className={this.props.classNames.activeTrack} />\n          ) : (\n            <div>\n              <div\n                style={activeTrackStyleExternalPre}\n                className={this.props.classNames.activeTrack} />\n              <div\n                style={activeTrackStyleExternalPost}\n                className={this.props.classNames.activeTrack} />\n            </div>\n          )\n        }\n        {this.props.children}\n      </div>\n    );\n  }\n}\n"]}